(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/wallpaper/detail"],{"2ca3":function(e,t,n){"use strict";var a=n("36b7"),i=n.n(a);i.a},"2e3c":function(e,t,n){},"36b7":function(e,t,n){},"648f":function(e,t,n){"use strict";n.r(t);var a=n("c0eb"),i=n("7ff5");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("2ca3"),n("b5b2");var s,c=n("f0c5"),u=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"746e1104",null,!1,a["a"],s);t["default"]=u.exports},"7ff5":function(e,t,n){"use strict";n.r(t);var a=n("ab68"),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},ab68:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("2377"),i={mixins:[a.mixin],data:function(){return{bgUrl:e.getStorageSync("imgPageBg"),imgData:null,cache:null,loadImg:!0,show:!1,btnType:!1,openSettingBtnHidden:!0}},onLoad:function(t){var n=JSON.parse(e.getStorageSync("pageData"));this.cache=n,this.getSingleImg()},methods:{getSingleImg:function(){var e=this.cache,t=e.image_urls.large;t=e.meta_pages.length>0?e.meta_pages[0].image_urls.original:e.meta_single_page.original_image_url,e.singleImg=t,this.imgData=e},imageLoad:function(){this.loadImg=!1},setModel:function(){this.show=!this.show},download:function(){var t=this;this.btnType||(e.showLoading({title:"下载中",mask:!0}),this.base64Img(this.imgData.singleImg).then((function(n){t.ewmImg=n,e.hideLoading(),t.saveEwm()})))},saveEwm:function(){var t=this;e.getSetting({success:function(n){n.authSetting["scope.writePhotosAlbum"]?t.saveBase64Img():e.authorize({scope:"scope.writePhotosAlbum",success:function(){t.saveBase64Img()},fail:function(){t.openSettingBtnHidden=!1}})}})},saveBase64Img:function(){var t=this,n=Date.parse(new Date),a=this.ewmImg.replace(/^data:image\/\w+;base64,/,""),i=wx.env.USER_DATA_PATH+"/"+n+".png";e.showLoading({title:"保存中",mask:!0}),e.getFileSystemManager().writeFile({filePath:i,data:a,encoding:"base64",success:function(n){e.saveImageToPhotosAlbum({filePath:i,success:function(n){e.hideLoading(),e.showToast({title:"保存成功",icon:"none",duration:2e3}),t.btnType=!0,e.vibrateShort()},fail:function(t){e.hideLoading()}})},fail:function(t){e.hideLoading()}})}}};t.default=i}).call(this,n("543d")["default"])},b5b2:function(e,t,n){"use strict";var a=n("2e3c"),i=n.n(a);i.a},c0eb:function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var i=function(){var e=this,t=e.$createElement;e._self._c},o=[]},e6a2:function(e,t,n){"use strict";(function(e){n("d5ee");a(n("66fd"));var t=a(n("648f"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])}},[["e6a2","common/runtime","common/vendor"]]]);